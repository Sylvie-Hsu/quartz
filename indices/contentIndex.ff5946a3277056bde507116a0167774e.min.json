{"/":{"title":"ğŸª´ Biubi's Drawer.","content":"\n- ğŸ’„ [Styled-Component](notes/styled-component.md)\n- ğŸ’„ [React](notes/react.md)\n","lastmodified":"2022-12-08T12:39:14.243853281Z","tags":null},"/notes/react":{"title":"React","content":"\n### Hooks\n- [Introducing Hooks](https://reactjs.org/docs/hooks-intro.html)\n- [puxiao / react-hook-tutorial](https://github.com/puxiao/react-hook-tutorial)\n- [Youtube - Codevolution](https://www.youtube.com/playlist?list=PLC3y8-rFHvwisvxhZ135pogtX7_Oe3Q3A)\n- Rules of Hooks\n\t- Only Call Hooks at the Top Level\n\t- Only Call Hooks from React Functions\n#### useEffect\n- useEffect æ‰§è¡Œæ—¶ä¼šå»ºç«‹é—­åŒ…ï¼Œä½¿ç”¨ setState æ—¶éœ€è¦æ³¨æ„å‚æ•°çš„å€¼\n\t[useEffect é«˜çº§ç”¨æ³•](https://github.com/puxiao/react-hook-tutorial/blob/master/05%20useEffect%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95.md)\n\t\u003eæœ‰æ—¶å€™ï¼Œä½ çš„ effect å¯èƒ½ä¼šä½¿ç”¨ä¸€äº›é¢‘ç¹å˜åŒ–çš„å€¼ã€‚ä½ å¯èƒ½ä¼šå¿½ç•¥ä¾èµ–åˆ—è¡¨ä¸­ stateï¼Œä½†è¿™é€šå¸¸ä¼šå¼•èµ· Bugï¼Œä¼ å…¥ç©ºçš„ä¾èµ–æ•°ç»„ []ï¼Œæ„å‘³ç€è¯¥ hook åªåœ¨ç»„ä»¶æŒ‚è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œå¹¶éé‡æ–°æ¸²æŸ“æ—¶ã€‚ä½†å¦‚æ­¤ä¼šæœ‰é—®é¢˜ï¼Œåœ¨ setInterval çš„å›è°ƒä¸­ï¼Œcount çš„å€¼ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚å› ä¸ºå½“ effect æ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œå¹¶å°† count çš„å€¼è¢«ä¿å­˜åœ¨è¯¥é—­åŒ…å½“ä¸­ï¼Œä¸”åˆå€¼ä¸º 0ã€‚æ¯éš”ä¸€ç§’ï¼Œå›è°ƒå°±ä¼šæ‰§è¡Œ setCount(0 + 1)ï¼Œå› æ­¤ï¼Œcount æ°¸è¿œä¸ä¼šè¶…è¿‡ 1ã€‚\n- å½“ useEffect é—­åŒ…æ— æ³•è·å–æœ€æ–°çš„ state å€¼æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ useRef\n- ç»„ä»¶å¤šæ¬¡æ¸²æŸ“æ—¶ï¼Œåœ¨æ‰§è¡Œä¸‹ä¸€ä¸ª effect ä¹‹å‰ï¼Œä¸Šä¸€ä¸ª effect ä¼šè¢«æ¸…é™¤\n\t```js\n\tuseEffect(() =\u003e {\n\t  const subscription = props.source.subscribe();\n\t  return () =\u003e {\n\t\t// æ¸…é™¤è®¢é˜…\n\t\tsubscription.unsubscribe();\n\t  };\n\t});\n\t```\n- ä¸ºé¿å…é˜»å¡è§†è§‰æ›´æ–° `useEffect` åœ¨æµè§ˆå™¨å®Œæˆå¸ƒå±€ä¸ç»˜åˆ¶ä¹‹åçš„å»¶è¿Ÿäº‹ä»¶ä¸­è°ƒç”¨ï¼Œéœ€ç»˜åˆ¶å‰åŒæ­¥æ‰§è¡Œå¯ä½¿ç”¨ `useLayoutEffect`\n#### useState\n- `setState` ä¸º obj æ—¶ä¸ä¼š auto mergeï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦\n\t`setState(prev =\u003e { ...prev, attr: newVal })`\n#### useReducer\n- useState is built using useReducer\n-  ![[Pasted image 20221031230017.png]]\n#### useCallback\n- React.memo() ç¡®ä¿ç»„ä»¶åªåœ¨ç›¸å…³ props æˆ– state å˜åŒ–æ—¶é‡æ¸²æŸ“\n\t```jsx\n\timport React from 'react'\n\t\n\tfuction Title () {\n\t\treturn \u003ch2\u003eTitle\u003c/h2\u003e;\n\t}\n\t\n\texport default React.memo(Title)\n\t```\n- ç»„ä»¶é‡æ¸²æŸ“æ—¶ï¼Œå†…éƒ¨çš„å‡½æ•°ä¼šè¢«é‡æ–°åˆ›å»ºï¼Œæ‰€ä»¥ä¼ å…¥å‡½æ•°çš„å­ç»„ä»¶ä¹Ÿä¼šå› ä¸ºæœ‰å˜åŒ–è€Œé‡æ¸²æŸ“\n- useCallback ç”¨æ¥ cache ä¾æ®ä¼ å‚è€Œå˜åŒ–çš„å‡½æ•°\n#### useMemo\n- useCallback cache function, useMemo cache result of function\n#### useRef\n- æ“çºµ dom å˜åŒ–\n- as a container to hold mutable value in global\n#### custom Hook\n- [Doc](https://zh-hans.reactjs.org/docs/hooks-custom.html)\n- ä»¥ use å¼€å¤´çš„å‡½æ•°ï¼Œå†…éƒ¨åŒ…å«å¯¹å…¶ä»– Hook çš„è°ƒç”¨ï¼Œç”¨äºæå–å…¬å…±é€»è¾‘\n- è‡ªå®šä¹‰ Hook æ˜¯ä¸€ç§é‡ç”¨çŠ¶æ€é€»è¾‘çš„æœºåˆ¶ï¼Œè°ƒç”¨æ—¶å…¶ä¸­ state å’Œå‰¯ä½œç”¨å®Œå…¨éš”ç¦»\n---\n#### 'Slot' in React = props.children\n```html\n// father-component\n\u003cLoadableBtn loading={loading} onClick={submit}\u003e\n\tSubmit\n\u003c/LoadableBtn\u003e\n```\n\n```html\n// sub-component\n\u003cdiv className=\"loadable-btn-inner\"\u003e\n\t{props.children}\n\u003c/div\u003e\n```\n---\n#### Airbnb React/JSX Style Guide\n- [Doc](https://github.com/airbnb/javascript/tree/master/react)\n- propTypes and defaultProps of React component\n\t```jsx\n\t// good\n\tfunction SFC({ foo, bar, children }) {\n\t  return \u003cdiv\u003e{foo}{bar}{children}\u003c/div\u003e;\n\t}\n\tSFC.propTypes = {\n\t  foo: PropTypes.number.isRequired,\n\t  bar: PropTypes.string,\n\t  children: PropTypes.node,\n\t};\n\tSFC.defaultProps = {\n\t  bar: '',\n\t  children: null,\n\t};\n\t```\n- Filter out unnecessary props when possible\n\t```jsx\n\t// good\n\trender() {\n\t  const { irrelevantProp, ...relevantProps } = this.props;\n\t  return \u003cWrappedComponent {...relevantProps} /\u003e\n\t}\n\t```","lastmodified":"2022-12-08T12:39:14.243853281Z","tags":null},"/notes/styled-component":{"title":"Styled-Component","content":"\n[styled-components doc](https://styled-components.com/docs)\n\n#### Basics\n- styled-component  = styled React component\n\t\u003eIt removes the mapping between components and styles. This means that when you're defining your styles, you're actually creating a normal React component, that has your styles attached to it.\n- styled.div VS style.section\n\t```html\n\t// styled.div\n\t\u003cdiv class=\"xxx\"/\u003e\n\t\n\t// styled.section\n\t\u003csection class=\"xxx\" /\u003e\n\t```\n- [\"as\" polymorphic prop](https://styled-components.com/docs/api#as-polymorphic-prop)\n\tå®é™…æ¸²æŸ“ä¸º as={Component} å†…å®¹ï¼Œä½†å¤ç”¨ WrapperComponent æ ·å¼\n\t```js\n\tconst Button = styled.button`\n\t  display: inline-block;\n\t  color: palevioletred;\n\t  font-size: 1em;\n\t  margin: 1em;\n\t  padding: 0.25em 1em;\n\t  border: 2px solid palevioletred;\n\t  border-radius: 3px;\n\t  display: block;\n\t`;\n\t\n\tconst ReversedButton = props =\u003e \u003cButton {...props} children={props.children.split('').reverse()} /\u003e\n\t\n\trender(\n\t  \u003cdiv\u003e\n\t\t\u003cButton\u003eNormal Button\u003c/Button\u003e\n\t\t\u003cButton as={ReversedButton}\u003eCustom Button with Normal Button styles\u003c/Button\u003e\n\t  \u003c/div\u003e\n\t);\n\t```\n- åœ¨ render å‡½æ•°å¤–å®šä¹‰ styled-componentï¼Œå¦åˆ™åœ¨æ¯æ¬¡ render æ—¶éƒ½ä¼šé‡æ–°åˆ›å»º\n\t\u003eIt is important to define your styled components outside of the render method, otherwise it will be recreated on every single render pass. Defining a styled component within the render method will thwart caching and drastically slow down rendering speed, and should be avoided.\n- ä½¿ç”¨ `stylis` é¢„å¤„ç†å™¨ï¼Œæ”¯æŒç±» scss è¯­æ³•\n- [Attaching additional props](https://styled-components.com/docs/basics#attaching-additional-props)\n\t- attrs ä¸­å¯ä½¿ç”¨å‡½æ•°è¿”å›ç»“æœ + åŠ¨æ€ props\n\t\t```js\n\t\tconst Input = styled.input.attrs(props =\u003e ({\n\t\t  // we can define static props\n\t\t  type: \"text\",\n\t\t\n\t\t  // or we can define dynamic ones\n\t\t  size: props.size || \"1em\",\n\t\t}))`\n\t\t  color: palevioletred;\n\t\t  font-size: 1em;\n\t\t  border: 2px solid palevioletred;\n\t\t  border-radius: 3px;\n\t\t\n\t\t  /* here we use the dynamically computed prop */\n\t\t  margin: ${props =\u003e props.size};\n\t\t  padding: ${props =\u003e props.size};\n\t\t`;\n\t\t\n\t\trender(\n\t\t  \u003cdiv\u003e\n\t\t    \u003cInput placeholder=\"A small text input\" /\u003e\n\t\t    \u003cbr /\u003e\n\t\t    \u003cInput placeholder=\"A bigger text input\" size=\"2em\" /\u003e\n\t\t  \u003c/div\u003e\n\t\t);\n\t\t```\n\t- attrs å¯è¢« overrideï¼Œè¶Šç²¾å‡†ä¼˜å…ˆçº§è¶Šé«˜\n\n#### Advanced\n- Theming\n\t- å¯ä½¿ç”¨ Props ä¼ å‚æˆ–å‡½æ•°ï¼Œå®ç°ä¸»é¢˜è‰²å˜åŒ–æˆ– revert\n\t- å¤–å±‚ç»„ä»¶å¯ä½¿ç”¨ `withTheme` `useContext` `useTheme` ç­‰æ–¹å¼è·å– theme ä¿¡æ¯\n- Refs\n\t- ç»™ styled-component ä¼ å…¥ ref å‚æ•°å¯è·å¾—å½“å‰ Dom èŠ‚ç‚¹æˆ–å¯¹åº” React component å®ä¾‹\n- Together with existing CSS\n\tstyled-components ç”Ÿæˆå®é™…çš„æ ·å¼è¡¨å¹¶ä¸”é€šè¿‡ `className` å±æ€§é™„åŠ åˆ° DOM èŠ‚ç‚¹ä¸­\n\t- ä½¿ç”¨ `styled(MyComponent)` å¹¶ä½¿ç”¨ `this.props.className` å°†æ ·å¼è¡¨ä¼ å…¥ DOM èŠ‚ç‚¹\n\t\t```js\n\t\tclass MyComponent extends React.Component {\n\t\t  render() {\n\t\t    // Attach the passed-in className to the DOM node\n\t\t    return \u003cdiv className={`some-global-class ${this.props.className}`} /\u003e\n\t\t  }\n\t\t}\n\t\t```\n\t- å½“ styled-components å®šä¹‰çš„æ ·å¼å±æ€§ä¸å…¨å±€å†²çªæ—¶ï¼Œç”±äº styled componens class ä¼šè¢«æ’å…¥è‡³ DOM èŠ‚ç‚¹æœ«ç«¯æ‰€ä»¥ä¼šå æœ‰è¾ƒé«˜çš„ä¼˜å…ˆçº§\n\t- é¿å…ä¸ç¬¬ä¸‰æ–¹æ ·å¼å†²çªï¼šå¤–å±‚è®¾ç½®å‘½åç©ºé—´\n- Tagged Template Literals\n\t- Tagged Template Literals in ES6\n\t\t```js\n\t\t// These are equivalent:\n\t\tfn`some string here`;\n\t\tfn(['some string here']);\n\t\t\n\t\t// These are equivalent:\n\t\tconst aVar = 'good';\n\t\tfn`this is a ${aVar} day`;\n\t\tfn(['this is a ', ' day'], aVar);\n\t\t```\n\t- å¯ä»¥ä½¿ç”¨ \u0026\u0026 å› ä¸º styled-components ä¼šå¿½ç•¥è¿”å›ä¸º undefined,Â null,Â false, or \"\"\n\t\t```js\n\t\tconst Title = styled.h1`\n\t\t  /* Text centering won't break if props.upsidedown is falsy */\n\t\t  ${props =\u003e props.upsidedown \u0026\u0026 'transform: rotate(180deg);'}\n\t\t  text-align: center;\n\t\t`;\n\t\t```\n- [Referring to other components](https://styled-components.com/docs/advanced#referring-to-other-components)","lastmodified":"2022-12-08T12:39:14.247853333Z","tags":null}}