{"/":{"title":"ğŸª´ Biubi's Drawer.","content":"\n- ğŸ’„ [Styled-Component](notes/styled-component.md)\n- ğŸ’„ [Styled-Component](notes/react.md)\n","lastmodified":"2022-12-04T12:12:28.209595525Z","tags":null},"/notes/react":{"title":"React","content":"\n### Hooks\n\n- [Introducing Hooks](https://reactjs.org/docs/hooks-intro.html)\n- [puxiao / react-hook-tutorial](https://github.com/puxiao/react-hook-tutorial)\n- [Youtube - Codevolution](https://www.youtube.com/playlist?list=PLC3y8-rFHvwisvxhZ135pogtX7_Oe3Q3A)\n- Rules of Hooks\n  - Only Call Hooks at the Top Level\n  - Only Call Hooks from React Functions\n\n#### useEffect\n\n- useEffect æ‰§è¡Œæ—¶ä¼šå»ºç«‹é—­åŒ…ï¼Œä½¿ç”¨ setState æ—¶éœ€è¦æ³¨æ„å‚æ•°çš„å€¼\n  [useEffect é«˜çº§ç”¨æ³•](https://github.com/puxiao/react-hook-tutorial/blob/master/05%20useEffect%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95.md)\n  \u003e æœ‰æ—¶å€™ï¼Œä½ çš„ effect å¯èƒ½ä¼šä½¿ç”¨ä¸€äº›é¢‘ç¹å˜åŒ–çš„å€¼ã€‚ä½ å¯èƒ½ä¼šå¿½ç•¥ä¾èµ–åˆ—è¡¨ä¸­ stateï¼Œä½†è¿™é€šå¸¸ä¼šå¼•èµ· Bugï¼Œä¼ å…¥ç©ºçš„ä¾èµ–æ•°ç»„ []ï¼Œæ„å‘³ç€è¯¥ hook åªåœ¨ç»„ä»¶æŒ‚è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œå¹¶éé‡æ–°æ¸²æŸ“æ—¶ã€‚ä½†å¦‚æ­¤ä¼šæœ‰é—®é¢˜ï¼Œåœ¨ setInterval çš„å›è°ƒä¸­ï¼Œcount çš„å€¼ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚å› ä¸ºå½“ effect æ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œå¹¶å°† count çš„å€¼è¢«ä¿å­˜åœ¨è¯¥é—­åŒ…å½“ä¸­ï¼Œä¸”åˆå€¼ä¸º 0ã€‚æ¯éš”ä¸€ç§’ï¼Œå›è°ƒå°±ä¼šæ‰§è¡Œ setCount(0 + 1)ï¼Œå› æ­¤ï¼Œcount æ°¸è¿œä¸ä¼šè¶…è¿‡ 1ã€‚\n- å½“ useEffect é—­åŒ…æ— æ³•è·å–æœ€æ–°çš„ state å€¼æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ useRef\n- ç»„ä»¶å¤šæ¬¡æ¸²æŸ“æ—¶ï¼Œåœ¨æ‰§è¡Œä¸‹ä¸€ä¸ª effect ä¹‹å‰ï¼Œä¸Šä¸€ä¸ª effect ä¼šè¢«æ¸…é™¤\n  ```js\n  useEffect(() =\u003e {\n    const subscription = props.source.subscribe()\n    return () =\u003e {\n      // æ¸…é™¤è®¢é˜…\n      subscription.unsubscribe()\n    }\n  })\n  ```\n- ä¸ºé¿å…é˜»å¡è§†è§‰æ›´æ–° `useEffect` åœ¨æµè§ˆå™¨å®Œæˆå¸ƒå±€ä¸ç»˜åˆ¶ä¹‹åçš„å»¶è¿Ÿäº‹ä»¶ä¸­è°ƒç”¨ï¼Œéœ€ç»˜åˆ¶å‰åŒæ­¥æ‰§è¡Œå¯ä½¿ç”¨ `useLayoutEffect`\n\n#### useState\n\n- `setState` ä¸º obj æ—¶ä¸ä¼š auto mergeï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦\n  `setState(prev =\u003e { ...prev, attr: newVal })`\n\n#### useReducer\n\n- useState is built using useReducer\n- ![[Pasted image 20221031230017.png]]\n\n#### useCallback\n\n- React.memo() ç¡®ä¿ç»„ä»¶åªåœ¨ç›¸å…³ props æˆ– state å˜åŒ–æ—¶é‡æ¸²æŸ“\n\n  ```jsx\n  import React from 'react'\n\n  fuction Title () {\n  \treturn \u003ch2\u003eTitle\u003c/h2\u003e;\n  }\n\n  export default React.memo(Title)\n  ```\n\n- ç»„ä»¶é‡æ¸²æŸ“æ—¶ï¼Œå†…éƒ¨çš„å‡½æ•°ä¼šè¢«é‡æ–°åˆ›å»ºï¼Œæ‰€ä»¥ä¼ å…¥å‡½æ•°çš„å­ç»„ä»¶ä¹Ÿä¼šå› ä¸ºæœ‰å˜åŒ–è€Œé‡æ¸²æŸ“\n- useCallback ç”¨æ¥ cache ä¾æ®ä¼ å‚è€Œå˜åŒ–çš„å‡½æ•°\n\n#### useMemo\n\n- useCallback cache function, useMemo cache result of function\n\n#### useRef\n\n- æ“çºµ dom å˜åŒ–\n- as a container to hold mutable value in global\n\n#### custom Hook\n\n- [Doc](https://zh-hans.reactjs.org/docs/hooks-custom.html)\n- ä»¥ use å¼€å¤´çš„å‡½æ•°ï¼Œå†…éƒ¨åŒ…å«å¯¹å…¶ä»– Hook çš„è°ƒç”¨ï¼Œç”¨äºæå–å…¬å…±é€»è¾‘\n- è‡ªå®šä¹‰ Hook æ˜¯ä¸€ç§é‡ç”¨çŠ¶æ€é€»è¾‘çš„æœºåˆ¶ï¼Œè°ƒç”¨æ—¶å…¶ä¸­ state å’Œå‰¯ä½œç”¨å®Œå…¨éš”ç¦»\n\n---\n\n#### 'Slot' in React = props.children\n\n```html\n// father-component \u003cLoadableBtn loading=\"{loading}\" onClick=\"{submit}\"\u003e Submit \u003c/LoadableBtn\u003e\n```\n\n```html\n// sub-component\n\u003cdiv className=\"loadable-btn-inner\"\u003e{props.children}\u003c/div\u003e\n```\n\n---\n\n#### Airbnb React/JSX Style Guide\n\n- [Doc](https://github.com/airbnb/javascript/tree/master/react)\n- propTypes and defaultProps of React component\n  ```jsx\n  // good\n  function SFC({ foo, bar, children }) {\n    return (\n      \u003cdiv\u003e\n        {foo}\n        {bar}\n        {children}\n      \u003c/div\u003e\n    )\n  }\n  SFC.propTypes = {\n    foo: PropTypes.number.isRequired,\n    bar: PropTypes.string,\n    children: PropTypes.node,\n  }\n  SFC.defaultProps = {\n    bar: \"\",\n    children: null,\n  }\n  ```\n- Filter out unnecessary props when possible\n  ```jsx\n  // good\n  render() {\n    const { irrelevantProp, ...relevantProps } = this.props;\n    return \u003cWrappedComponent {...relevantProps} /\u003e\n  }\n  ```\n","lastmodified":"2022-12-04T12:12:28.209595525Z","tags":null},"/notes/styled-component":{"title":"Styled-Component","content":"\n[styled-components doc](https://styled-components.com/docs)\n\n#### Basics\n\n- styled-component = styled React component\n  \u003e It removes the mapping between components and styles. This means that when you're defining your styles, you're actually creating a normal React component, that has your styles attached to it.\n- styled.div VS style.section\n\n  ```html\n  // styled.div\n  \u003cdiv class=\"xxx\" /\u003e\n\n  // styled.section\n  \u003csection class=\"xxx\" /\u003e\n  ```\n\n- [\"as\" polymorphic prop](https://styled-components.com/docs/api#as-polymorphic-prop)\n  å®é™…æ¸²æŸ“ä¸º as={Component} å†…å®¹ï¼Œä½†å¤ç”¨ WrapperComponent æ ·å¼\n\n  ```js\n  const Button = styled.button`\n    display: inline-block;\n    color: palevioletred;\n    font-size: 1em;\n    margin: 1em;\n    padding: 0.25em 1em;\n    border: 2px solid palevioletred;\n    border-radius: 3px;\n    display: block;\n  `\n\n  const ReversedButton = (props) =\u003e (\n    \u003cButton {...props} children={props.children.split(\"\").reverse()} /\u003e\n  )\n\n  render(\n    \u003cdiv\u003e\n      \u003cButton\u003eNormal Button\u003c/Button\u003e\n      \u003cButton as={ReversedButton}\u003eCustom Button with Normal Button styles\u003c/Button\u003e\n    \u003c/div\u003e,\n  )\n  ```\n\n- åœ¨ render å‡½æ•°å¤–å®šä¹‰ styled-componentï¼Œå¦åˆ™åœ¨æ¯æ¬¡ render æ—¶éƒ½ä¼šé‡æ–°åˆ›å»º\n  \u003e It is important to define your styled components outside of the render method, otherwise it will be recreated on every single render pass. Defining a styled component within the render method will thwart caching and drastically slow down rendering speed, and should be avoided.\n- ä½¿ç”¨ `stylis` é¢„å¤„ç†å™¨ï¼Œæ”¯æŒç±» scss è¯­æ³•\n- [Attaching additional props](https://styled-components.com/docs/basics#attaching-additional-props)\n\n  - attrs ä¸­å¯ä½¿ç”¨å‡½æ•°è¿”å›ç»“æœ + åŠ¨æ€ props\n\n    ```js\n    const Input = styled.input.attrs((props) =\u003e ({\n      // we can define static props\n      type: \"text\",\n\n      // or we can define dynamic ones\n      size: props.size || \"1em\",\n    }))`\n      color: palevioletred;\n      font-size: 1em;\n      border: 2px solid palevioletred;\n      border-radius: 3px;\n\n      /* here we use the dynamically computed prop */\n      margin: ${(props) =\u003e props.size};\n      padding: ${(props) =\u003e props.size};\n    `\n\n    render(\n      \u003cdiv\u003e\n        \u003cInput placeholder=\"A small text input\" /\u003e\n        \u003cbr /\u003e\n        \u003cInput placeholder=\"A bigger text input\" size=\"2em\" /\u003e\n      \u003c/div\u003e,\n    )\n    ```\n\n  - attrs å¯è¢« overrideï¼Œè¶Šç²¾å‡†ä¼˜å…ˆçº§è¶Šé«˜\n\n#### Advanced\n\n- Theming\n  - å¯ä½¿ç”¨ Props ä¼ å‚æˆ–å‡½æ•°ï¼Œå®ç°ä¸»é¢˜è‰²å˜åŒ–æˆ– revert\n  - å¤–å±‚ç»„ä»¶å¯ä½¿ç”¨ `withTheme` `useContext` `useTheme` ç­‰æ–¹å¼è·å– theme ä¿¡æ¯\n- Refs\n  - ç»™ styled-component ä¼ å…¥ ref å‚æ•°å¯è·å¾—å½“å‰ Dom èŠ‚ç‚¹æˆ–å¯¹åº” React component å®ä¾‹\n- Together with existing CSS\n  styled-components ç”Ÿæˆå®é™…çš„æ ·å¼è¡¨å¹¶ä¸”é€šè¿‡ `className` å±æ€§é™„åŠ åˆ° DOM èŠ‚ç‚¹ä¸­\n  - ä½¿ç”¨ `styled(MyComponent)` å¹¶ä½¿ç”¨ `this.props.className` å°†æ ·å¼è¡¨ä¼ å…¥ DOM èŠ‚ç‚¹\n    ```js\n    class MyComponent extends React.Component {\n      render() {\n        // Attach the passed-in className to the DOM node\n        return \u003cdiv className={`some-global-class ${this.props.className}`} /\u003e\n      }\n    }\n    ```\n  - å½“ styled-components å®šä¹‰çš„æ ·å¼å±æ€§ä¸å…¨å±€å†²çªæ—¶ï¼Œç”±äº styled componens class ä¼šè¢«æ’å…¥è‡³ DOM èŠ‚ç‚¹æœ«ç«¯æ‰€ä»¥ä¼šå æœ‰è¾ƒé«˜çš„ä¼˜å…ˆçº§\n  - é¿å…ä¸ç¬¬ä¸‰æ–¹æ ·å¼å†²çªï¼šå¤–å±‚è®¾ç½®å‘½åç©ºé—´\n- Tagged Template Literals\n\n  - Tagged Template Literals in ES6\n\n    ```js\n    // These are equivalent:\n    fn`some string here`\n    fn([\"some string here\"])\n\n    // These are equivalent:\n    const aVar = \"good\"\n    fn`this is a ${aVar} day`\n    fn([\"this is a \", \" day\"], aVar)\n    ```\n\n  - å¯ä»¥ä½¿ç”¨ \u0026\u0026 å› ä¸º styled-components ä¼šå¿½ç•¥è¿”å›ä¸º undefined,Â null,Â false, or \"\"\n    ```js\n    const Title = styled.h1`\n      /* Text centering won't break if props.upsidedown is falsy */\n      ${(props) =\u003e props.upsidedown \u0026\u0026 \"transform: rotate(180deg);\"}\n      text-align: center;\n    `\n    ```\n\n- [Referring to other components](https://styled-components.com/docs/advanced#referring-to-other-components)\n","lastmodified":"2022-12-04T12:12:28.209595525Z","tags":null}}